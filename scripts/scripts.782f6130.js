"use strict";angular.module("hackmanApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl",controllerAs:"main"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl",controllerAs:"about"}).when("/license",{templateUrl:"views/license.html",controller:"LicenseCtrl",controllerAs:"license"}).when("/license/add",{templateUrl:"views/add-license.html",controller:"AddLicenseCtrl",controllerAs:"addLicense"}).otherwise({redirectTo:"/"})}]),angular.module("hackmanApp").controller("MainCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("hackmanApp").controller("AboutCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("hackmanApp").directive("dropdown",function(){return{template:'<div></div></div><select id="size" style="width: 100%;" ><option>S - 6 3/4"</option><option>M - 7 1/4"</option><option>L - 7 1/8"</option><option>XL - 7 5/8"</option></select><div id="grid"></div>',restrict:"E",link:function(a,b,c){var d=$(b).find("#grid");d.kendoGrid({selectable:"multiple cell",allowCopy:!0,columns:[{field:"productName"},{field:"category"}],dataSource:[{productName:"Tea",category:"Beverages"},{productName:"Coffee",category:"Beverages"},{productName:"Ham",category:"Food"},{productName:"Bread",category:"Food"}]}),$(b).find("#size").kendoDropDownList({select:function(b){var c=b.item,e=c.text();d.data("kendoGrid").dataSource.add({productName:e,category:e}),a.$apply(function(){})}})}}}),angular.module("hackmanApp").controller("LicenseCtrl",["$http",function(a){this.model={name:"URLF",categories:[{name:"Category Replacement Kit",features:["Feature 1","Feature 10"]},{name:"Web Security Setting ID",features:["Feature 2","Feature 20"]}]},this.send=function(){a.post("/api/license",{license:"created-from-features"},function(a){console.log("great success"),this.status="great success"},function(a){})}}]),angular.module("hackmanApp").controller("AddLicenseCtrl",function(){this.configuration=[{name:"AS",caption:"Service Success Factor",templates:["Detection","Performance"]},{name:"URL",caption:"Category Replacement Kit",templates:["Default","Custom"]}],this.serviceOptions=_.map(this.configuration,function(a){return a.name}),this.onSelectedService=function(a){var b=_.find(this.configuration,function(b){return b.name===a});this["new"]={configuration:a,templates:b.templates,caption:b.caption}},this.onSelectedTemplate=function(a){this["new"].ready=!0,this["new"].template=a},this.create=function(){this.created=!0,this.status="Created "+this["new"].configuration+" with template "+this["new"].template+"!"}}),angular.module("hackmanApp").directive("chooseService",function(){return{scope:{model:"="},template:'<input id="service-chooser" />',restrict:"E",link:function(a,b,c){$(b).find("#service-chooser").kendoDropDownList({optionLabel:"Please choose services",dataSource:{data:a.model.serviceOptions},select:function(b){var c=b.item,d=c.text();a.$apply(function(){a.model.onSelectedService(d)})}})}}}),angular.module("hackmanApp").directive("chooseTemplate",function(){return{scope:{model:"="},templateUrl:"views/choose-template.html",restrict:"E",link:function(a,b,c){a.onChange=function(b){a.model.onSelectedTemplate(b)}}}}),angular.module("hackmanApp").run(["$templateCache",function(a){a.put("views/about.html","<p>This is the about view.</p>"),a.put("views/add-license.html",'<div> <div class="row my-row"> <div class="col-md-6"> <choose-service model="addLicense"> </div> <div class="col-md-6" ng-show="addLicense.new"> <choose-template model="addLicense"> </div> </div> <div class="row my-row"> <div class="col-md-6"> <button type="button" class="btn btn-default" ng-disabled="!addLicense.new.ready" ng-click="addLicense.create()">Create!</button> </div> <div class="col-md-6" ng-show="addLicense.created"> {{addLicense.status}} </div> </div> </div>'),a.put("views/choose-template.html",'<div class="row"> <div ng-repeat="template in model.new.templates" class="col-md-6"> <label> <input type="radio" ng-model="selected.name" value="template" name="template" ng-change="onChange(template)"> {{template}} </label> </div> </div>'),a.put("views/license.html",'<div> <h1>{{license.model.name}}</h1> <div ng-repeat="category in license.model.categories"> <h2>{{category.name}}</h2> <div ng-repeat="feature in category.features"> {{feature}} </div> </div> <button type="button" ng-click="license.send()">Create!</button> </div>'),a.put("views/main.html",'<div class="jumbotron"> <h1>First Kendo Component!</h1> <dropdown> </div>')}]);